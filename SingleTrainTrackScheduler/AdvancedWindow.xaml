<Window x:Class="SingleTrainTrackScheduler.AdvancedWindow"
		Icon="/Assets/Türkiye_Cumhuriyeti_Devlet_Demiryolları_logo.ico"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Gelişmiş Ayarlar ve Dışa Aktar"
        Height="640" Width="760"
        WindowStartupLocation="CenterOwner">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="12" >

            <!-- Tamponlar -->
            <GroupBox Header="Tamponlar (dk)" Margin="0,0,0,8">
                <Grid Margin="8">
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="220"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Aynı yön (headway):" VerticalAlignment="Center"/>
                    <TextBox   x:Name="txtHead"  Grid.Row="0" Grid.Column="1" Width="80" Text="3"/>

                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Karşı yön (clearance):" VerticalAlignment="Center"/>
                    <TextBox   x:Name="txtClear" Grid.Row="1" Grid.Column="1" Width="80" Text="3"/>

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="İstasyonda serbestlik:" VerticalAlignment="Center"/>
                    <TextBox   x:Name="txtSlack" Grid.Row="2" Grid.Column="1" Width="80" Text="1"/>
                    <!-- ... alt tarafa bir buton ekle -->
                    <Button x:Name="btnApplyBuffers"
                        Content="Tamponları Uygula ve Kontrol Et"
                        Margin="0,8,0,0"
                        Click="BtnApplyBuffers_Click"/>
                </Grid>
            </GroupBox>

            <!-- Excel -->
            <GroupBox Header="Excel veri" Margin="0,0,0,8">
                <StackPanel Margin="8" Orientation="Horizontal">
                    <Button Content="Şablon Kaydet (XLSX)" Click="BtnTemplate_Click" Margin="0,0,8,0"/>
                    <Button Content="Excel'den Yükle…"  Click="BtnLoadXlsx_Click" Margin="0,0,8,0"/>
                    <Button Content="Mevcut Veriyi XLSX Kaydet" Click="BtnSaveXlsx_Click"/>
                </StackPanel>
            </GroupBox>

            <!-- Çıktı ayarları -->
            <GroupBox Header="Timetable Çıktı Ayarları" Margin="0,0,0,8">
                <Grid Margin="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="280"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="İstasyonlar (boşsa hepsi):"/>
                    <ListBox x:Name="lstStations" Grid.Row="1" Grid.Column="0"
                   Height="140" SelectionMode="Extended"/>

                    <StackPanel Grid.Row="2" Grid.Column="0" Orientation="Vertical">
                        <CheckBox x:Name="cbOutMin"  Content="Dakika (min) sütunları" IsChecked="True"/>
                        <CheckBox x:Name="cbOutHHMM" Content="Saat:Dakika (HH:MM) sütunları" IsChecked="True"/>
                    </StackPanel>

                    <StackPanel Grid.Row="1" Grid.Column="1" VerticalAlignment="Top">
                        <Button Content="Çakışmaları Kontrol Et" Click="BtnCheck_Click" Margin="0,0,0,8"/>
                        <Button Content="Timetable CSV Dışa Aktar" Click="BtnExportCsv_Click" Margin="0,0,0,8"/>
                        <Button Content="Optimize Et (C#)" Click="BtnOptimize_Click" Margin="0,0,0,8"/>
                    </StackPanel>
                </Grid>
            </GroupBox>

            <!-- Çakışma özeti -->
            <GroupBox Header="Çakışma Özeti">
                <TextBox x:Name="txtConfDialog" Margin="8" Height="160"
                 AcceptsReturn="True" VerticalScrollBarVisibility="Auto"
                 FontFamily="Consolas"/>
            </GroupBox>

        </StackPanel>
    </ScrollViewer>
</Window>
